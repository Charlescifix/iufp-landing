<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IUFP VLE ‚Äî Forgot Password</title>
  <meta name="description" content="Reset your IUFP VLE password for Students, Partner Schools or Staff." />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --brand-nav-bg:#0b2447;
      --brand-nav-text:#ffffff;
      --brand-primary:#19376d;
      --brand-on-primary:#ffffff;
      --brand-footer-bg:#0b2447;
      --brand-footer-text:#ffffff;
      --tint-a: rgba(25,55,109,.06);
      --tint-b: rgba(20,184,166,.12);
      --tint-c: rgba(167,139,250,.14);
      --tint-d: rgba(11,36,71,.05);
      --accent: linear-gradient(180deg, rgba(255,196,0,1), rgba(255,138,0,.95));
    }
    html,body{scroll-behavior:smooth}
    .brand-header{background-color:var(--brand-nav-bg);color:var(--brand-nav-text)}
    .brand-link{color:var(--brand-nav-text);position:relative;transition:all 0.3s ease}
    .brand-link::before{content:'';position:absolute;bottom:-4px;left:50%;width:0;height:2px;background:linear-gradient(90deg,rgba(20,184,166,0.8),rgba(167,139,250,0.8));transition:all 0.3s ease;transform:translateX(-50%)}
    .brand-link:hover{color:#ffffff;transform:translateY(-2px)}
    .brand-link:hover::before{width:100%}
    .brand-footer{background-color:var(--brand-footer-bg);color:var(--brand-footer-text)}

    .crystal{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);
      background:linear-gradient(135deg,rgba(255,255,255,.18),rgba(255,255,255,.06));
      border:1px solid rgba(0,0,0,.06);box-shadow:0 10px 24px rgba(0,0,0,.10);transition:transform .12s ease}
    .crystal:hover{transform:translateY(-2px) scale(1.01)}

    .btn{border-radius:12px;padding:.75rem 1.25rem;font-weight:700;display:inline-flex;align-items:center;gap:.5rem;transition:all 0.3s ease}
    .btn-primary{background:var(--accent); color:#0b2447;border:none}
    .btn-primary:hover{transform:translateY(-2px);box-shadow:0 8px 16px rgba(0,0,0,.15)}
    .btn-ghost{background:#fff;border:1px solid rgba(0,0,0,.12);color:#0b2447}
    .btn-ghost:hover{background:#f8fafc;transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.1)}

    .field{display:flex;flex-direction:column;gap:.4rem}
    .field label{font-weight:600;color:#1e293b}
    .field input, .field select{background:#fff;border:1px solid rgba(0,0,0,.12);border-radius:12px;padding:.85rem .95rem;outline:none;transition:all 0.3s ease}
    .field input:focus, .field select:focus{border-color:#19376d; box-shadow:0 0 0 3px rgba(25,55,109,.15);transform:translateY(-1px)}
    .field input:hover, .field select:hover{border-color:rgba(25,55,109,.3)}

    .badge{display:inline-block;border:1px solid rgba(0,0,0,.08);border-radius:9999px;padding:.3rem .7rem;font-weight:600;background:#fff;font-size:.85rem}
    .hint{font-size:.8rem; opacity:.75;color:#64748b}
    .hidden{display:none}

    @media (max-width: 768px) {
      .btn{padding:.65rem 1rem;font-size:.9rem}
      .field input, .field select{padding:.75rem .8rem}
    }
  </style>
</head>
<body class="bg-white text-slate-900">
  <header class="brand-header">
    <div class="max-w-7xl mx-auto flex items-center justify-between p-3 md:p-4">
      <a href="/" class="flex items-center gap-3" aria-label="IUFP Home">
        <img src="iufp-logo.jpg" alt="IUFP logo" class="h-16 w-auto md:h-20" />
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center gap-6">
        <a class="brand-link hover:opacity-90" href="index.html">Home</a>
        <a class="brand-link hover:opacity-90" href="students.html">Students</a>
        <a class="brand-link hover:opacity-90" href="universities.html">Universities</a>
        <a class="brand-link hover:opacity-90" href="partner-schools.html">Partner Schools</a>
        <a class="brand-link hover:opacity-90" href="vle.html">VLE</a>
        <a class="brand-link hover:opacity-90" href="contact.html">Contact Us</a>
      </nav>

      <div class="flex items-center gap-3">
        <img src="athe-logo.png" alt="ATHE logo" class="h-10 w-auto opacity-90" />

        <!-- Mobile Menu Button -->
        <button class="lg:hidden text-white p-2" id="mobile-menu-button" aria-label="Toggle menu">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation -->
    <nav id="mobile-menu" class="hidden lg:hidden bg-slate-800 border-t border-slate-700">
      <div class="max-w-7xl mx-auto px-4 py-3 space-y-2">
        <a class="brand-link block py-2" href="index.html">Home</a>
        <a class="brand-link block py-2" href="students.html">Students</a>
        <a class="brand-link block py-2" href="universities.html">Universities</a>
        <a class="brand-link block py-2" href="partner-schools.html">Partner Schools</a>
        <a class="brand-link block py-2" href="vle.html">VLE</a>
        <a class="brand-link block py-2" href="contact.html">Contact Us</a>
      </div>
    </nav>
  </header>

  <main>
    <section class="max-w-7xl mx-auto px-4 py-8 md:py-12 lg:py-16">
      <div class="grid lg:grid-cols-3 gap-6 lg:gap-8 items-start lg:items-center">
        <div class="lg:col-span-2">
          <h1 class="text-3xl sm:text-4xl md:text-5xl font-black leading-tight text-slate-800">Forgot your password?</h1>
          <p class="mt-4 text-base md:text-lg text-slate-600 leading-relaxed">No worries ‚Äî request a secure reset link for your <strong class="text-slate-800">Student</strong>, <strong class="text-slate-800">Partner School</strong>, or <strong class="text-slate-800">Staff</strong> account.</p>
          <div class="mt-5 flex flex-wrap gap-2">
            <span class="badge">üîí Secure</span>
            <span class="badge">üìö VLE‚Äëready</span>
            <span class="badge">üîê 2‚ÄëStep verification</span>
          </div>
        </div>
        <aside class="crystal rounded-2xl p-5 md:p-6 order-first lg:order-last">
          <div class="text-sm text-slate-700">
            <div class="font-bold mb-2 text-slate-800">üí° Tip</div>
            <p class="leading-relaxed">Use the email you registered with the IUFP VLE. If you're a Partner School, use your official work email.</p>
          </div>
        </aside>
      </div>
    </section>

    <section class="max-w-4xl mx-auto px-4 pb-12 md:pb-16">
      <form class="crystal rounded-2xl p-5 md:p-8" id="resetForm" action="/vle/forgot-password" method="post" novalidate style="background:var(--tint-a)">
        <div class="grid sm:grid-cols-1 md:grid-cols-2 gap-5 md:gap-6">
          <div class="field">
            <label class="font-bold text-slate-700" for="role">I am a</label>
            <select id="role" name="role" required aria-required="true">
              <option value="">Choose account type</option>
              <option value="student">Student</option>
              <option value="partner-school">Partner School</option>
              <option value="staff">Staff</option>
            </select>
            <div class="hint">This helps us route your reset correctly.</div>
          </div>
          <div class="field">
            <label class="font-bold text-slate-700" for="email">Registered Email</label>
            <input type="email" id="email" name="email" placeholder="you@school.edu" required aria-required="true" autocomplete="username" />
            <div class="hint">We'll send a secure reset link if this email exists.</div>
          </div>
        </div>

        <div class="grid sm:grid-cols-1 md:grid-cols-2 gap-5 md:gap-6 mt-5 md:mt-6">
          <div class="field">
            <label class="font-bold text-slate-700" for="region">Region (for support routing)</label>
            <select id="region" name="region">
              <option value="">Select region</option>
              <option value="africa">Africa</option>
              <option value="europe">Europe</option>
              <option value="middle-east">Middle East</option>
              <option value="asia">Asia</option>
              <option value="americas">Americas</option>
            </select>
          </div>
          <div class="field">
            <label class="font-bold text-slate-700" for="captcha">Human Check</label>
            <input id="captcha" name="captcha" placeholder="Type: IUFP" autocomplete="off" />
            <div class="hint">Placeholder CAPTCHA (replace with reCAPTCHA v3 in production).</div>
          </div>
        </div>

        <div class="mt-7 md:mt-8 flex flex-col sm:flex-row gap-4 sm:items-center sm:justify-between">
          <div class="flex flex-col sm:flex-row gap-3">
            <button type="submit" class="btn btn-primary w-full sm:w-auto">üìß Send Reset Link</button>
            <div class="flex flex-col sm:flex-row gap-2">
              <a href="iufp-student-vle-access.html" class="btn btn-ghost w-full sm:w-auto text-center text-sm">Student VLE</a>
              <a href="iufp-partner-vle-access.html" class="btn btn-ghost w-full sm:w-auto text-center text-sm">Partner VLE</a>
            </div>
          </div>
          <a href="/contact-us/" class="text-slate-600 hover:text-slate-800 underline underline-offset-4 text-center sm:text-left">Need help? Contact Support</a>
        </div>

        <div id="success" class="hidden mt-6 p-5 md:p-6 rounded-xl bg-white border border-slate-200 shadow-sm">
          <div class="font-bold text-green-700 flex items-center gap-2">
            <span>‚úÖ</span>
            <span>Check your inbox</span>
          </div>
          <p class="text-sm mt-3 text-slate-600 leading-relaxed">If an account exists for <span id="echoEmail" class="font-mono bg-slate-100 px-2 py-1 rounded text-slate-800"></span>, we've sent a reset link that expires in <strong>60 minutes</strong>. Didn't get it? Check spam or try again.</p>

          <div id="vleInfo" class="mt-4 p-4 rounded-lg bg-blue-50 border border-blue-200">
            <div class="font-semibold text-blue-800 mb-2">üéì Next Steps</div>
            <p class="text-sm text-blue-700 leading-relaxed">Once you reset your password, you can access your VLE portal:</p>
            <div class="mt-3 flex flex-col sm:flex-row gap-2">
              <a id="vleLink" href="#" class="btn btn-primary text-sm w-full sm:w-auto">Access VLE Portal</a>
            </div>
          </div>

          <div class="mt-4 flex flex-col sm:flex-row gap-3">
            <button type="button" id="resend" class="btn btn-ghost w-full sm:w-auto">üîÑ Resend</button>
            <a href="vle.html" class="btn btn-primary w-full sm:w-auto">Return to VLE Hub</a>
          </div>
        </div>
      </form>

      <div class="crystal rounded-2xl p-5 md:p-7 mt-6" style="background:var(--tint-d)">
        <h2 class="text-lg md:text-xl font-bold text-slate-800 flex items-center gap-2">
          <span>üîê</span>
          <span>Security Tips</span>
        </h2>
        <ul class="text-sm mt-4 space-y-3 text-slate-700">
          <li class="flex items-start gap-3">
            <span class="text-slate-400 mt-0.5">‚Ä¢</span>
            <span>Never share your password or one‚Äëtime codes with anyone.</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-slate-400 mt-0.5">‚Ä¢</span>
            <span>Use a strong password (12+ chars, mix of letters, numbers and symbols).</span>
          </li>
          <li class="flex items-start gap-3">
            <span class="text-slate-400 mt-0.5">‚Ä¢</span>
            <span>Enable 2‚ÄëStep verification on your account where available.</span>
          </li>
        </ul>
      </div>
    </section>
  </main>

  <div id="footer-container"></div>
  <script src="footer-component.min.js?v=1.0"></script>
  <script>
    if (window.IUFPFooter) {
      IUFPFooter.render('#footer-container', 'default');
    }
  </script>  <script>
    // Mobile menu functionality
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuButton?.addEventListener('click', function() {
      mobileMenu.classList.toggle('hidden');
      const isExpanded = !mobileMenu.classList.contains('hidden');
      mobileMenuButton.setAttribute('aria-expanded', isExpanded);
    });

    // Form handling
    const form = document.getElementById('resetForm');
    const success = document.getElementById('success');
    const echoEmail = document.getElementById('echoEmail');
    const resend = document.getElementById('resend');

    // Enhanced form validation
    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    function showFieldError(fieldId, message) {
      const field = document.getElementById(fieldId);
      const existingError = field.parentNode.querySelector('.field-error');
      if (existingError) existingError.remove();

      field.style.borderColor = '#ef4444';
      const errorDiv = document.createElement('div');
      errorDiv.className = 'field-error text-xs text-red-600 mt-1';
      errorDiv.textContent = message;
      field.parentNode.appendChild(errorDiv);
    }

    function clearFieldError(fieldId) {
      const field = document.getElementById(fieldId);
      const existingError = field.parentNode.querySelector('.field-error');
      if (existingError) existingError.remove();
      field.style.borderColor = '';
    }

    // Real-time validation
    ['role', 'email', 'captcha'].forEach(fieldId => {
      const field = document.getElementById(fieldId);
      field?.addEventListener('input', () => clearFieldError(fieldId));
      field?.addEventListener('blur', () => {
        if (fieldId === 'email' && field.value && !validateEmail(field.value)) {
          showFieldError(fieldId, 'Please enter a valid email address');
        }
      });
    });

    form.addEventListener('submit', function(e){
      e.preventDefault();

      // Clear previous errors
      ['role', 'email', 'captcha'].forEach(clearFieldError);

      const role = form.role.value.trim();
      const email = form.email.value.trim();
      const captcha = form.captcha.value.trim();

      let hasErrors = false;

      if (!role) {
        showFieldError('role', 'Please choose your account type');
        hasErrors = true;
      }

      if (!email) {
        showFieldError('email', 'Please enter your registered email');
        hasErrors = true;
      } else if (!validateEmail(email)) {
        showFieldError('email', 'Please enter a valid email address');
        hasErrors = true;
      }

      if (captcha.toUpperCase() !== 'IUFP') {
        showFieldError('captcha', 'Please type IUFP in the human check');
        hasErrors = true;
      }

      if (hasErrors) {
        // Scroll to first error
        const firstError = document.querySelector('.field-error');
        if (firstError) {
          firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        return;
      }

      // Success - Update VLE link based on role
      echoEmail.textContent = email;

      // Update VLE access link based on selected role
      const vleLink = document.getElementById('vleLink');
      const vleInfo = document.getElementById('vleInfo');

      if (role === 'student') {
        vleLink.href = 'iufp-student-vle-access.html';
        vleLink.textContent = 'üìö Student VLE Access';
        vleInfo.querySelector('p').textContent = 'Once you reset your password, you can access your Student VLE portal:';
      } else if (role === 'partner-school') {
        vleLink.href = 'iufp-partner-vle-access.html';
        vleLink.textContent = 'üè´ Partner School VLE Access';
        vleInfo.querySelector('p').textContent = 'Once you reset your password, you can access your Partner School VLE portal:';
      } else if (role === 'staff') {
        vleLink.href = '/staff-vle/';
        vleLink.textContent = 'üë®‚Äçüíº Staff VLE Access';
        vleInfo.querySelector('p').textContent = 'Once you reset your password, you can access your Staff VLE portal:';
      }

      success.classList.remove('hidden');
      form.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    resend?.addEventListener('click', function(){
      const email = echoEmail.textContent;
      if (email) {
        resend.textContent = 'Sent!';
        resend.disabled = true;
        setTimeout(() => {
          resend.textContent = 'üîÑ Resend';
          resend.disabled = false;
        }, 3000);
      }
    });
  </script>
</body>
</html>
